<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PT-RQ35K æ“ä½œåŠ©æ‰‹ V3 - å°ˆæ¥­å½™æ•´ç‰ˆ</title>
    <style>
        :root { 
            --navy-dark: #050505; --card-bg: #1a1a1a; --gold: #d4af37; 
            --text-main: #ffffff; --text-sub: #d1d1d1; --active-blue: #007aff; --sop-green: #28cd41; --danger: #ff3b30;
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        html, body { background: var(--navy-dark); margin: 0; padding: 0; color: var(--text-main); font-family: "Inter", "PingFang TC", sans-serif; height: 100vh; overflow: hidden; }

        .main-wrapper { width: 100%; height: 100%; display: flex; flex-direction: column; }
        header { background: #000; color: var(--gold); padding: 12px; text-align: center; border-bottom: 2px solid var(--gold); flex-shrink: 0; font-weight: 900; letter-spacing: 2px; }
        
        .top-fixed-area { background: #111; border-bottom: 1px solid #222; flex-shrink: 0; z-index: 1000; }
        .search-container { padding: 15px 15px 10px 15px; }
        #searchInput { width: 100%; padding: 18px; border-radius: 12px; border: 1px solid #444; background: #222; color: white; font-size: 18px; outline: none; }
        #searchInput:focus { border-color: var(--gold); }
        
        .tab-group { display: flex; gap: 5px; padding: 0 15px 15px 15px; }
        .tab-btn { flex: 1; padding: 12px 5px; border-radius: 8px; border: 1px solid #333; background: #1a1a1a; color: #888; cursor: pointer; font-weight: bold; font-size: 15px; }
        .tab-btn.active { background: var(--active-blue); color: white; border-color: var(--active-blue); }
        .tab-btn.gold.active { background: var(--gold); color: black; border-color: var(--gold); }
        .tab-btn.red.active { background: var(--danger); color: white; border-color: var(--danger); }

        .content-container { flex: 1; overflow-y: auto; padding: 15px; scroll-behavior: smooth; }
        .view-section { display: none; width: 100%; }
        .view-section.active { display: block; }

        .node { margin-bottom: 10px; width: 100%; }
        .label { cursor: pointer; padding: 20px 15px 20px 50px; border-radius: 14px; background: var(--card-bg); border: 1px solid #2a2a2a; display: flex; align-items: center; position: relative; transition: 0.2s; }
        .label::before { content: 'â–¶'; font-size: 10px; position: absolute; left: 22px; color: var(--gold); transition: 0.2s; }
        .node.expanded > .label::before { transform: rotate(90deg); }
        .node.leaf > .label::before { content: 'â—‹'; color: #666; }
        
        .en-text { font-weight: 900; font-size: 20px; color: #fff; margin-right: 12px; }
        .cn-text { font-weight: 300; font-size: 20px; color: var(--text-sub); }
        
        .options-box { margin: 10px 0 10px 40px; background: #000; border: 1px dashed #444; border-radius: 10px; padding: 15px; display: none; }
        .node.expanded > .options-box { display: block; }
        .option-item { color: #aaa; font-size: 16px; margin-bottom: 5px; display: flex; align-items: center; }
        .option-item::before { content: 'â€¢'; color: var(--gold); margin-right: 10px; }

        .children { margin-left: 20px; display: none; border-left: 2px solid #333; padding-left: 15px; margin-top: 10px; }
        .node.expanded > .children { display: block; }
        .highlight { background: #3d3400 !important; border: 2px solid var(--gold) !important; box-shadow: 0 0 15px rgba(212,175,55,0.4); }

        .card { background: #1a1a1a; padding: 22px; border-radius: 18px; margin-bottom: 15px; border-left: 8px solid var(--sop-green); line-height: 1.8; font-size: 19px; border-top: 1px solid #333; }
        .fault-card { border-left-color: var(--danger); background: #201516; }
        .step-tag { background: var(--sop-green); color: black; padding: 3px 12px; border-radius: 6px; margin-right: 12px; font-weight: 900; }
        h3 { color: var(--gold); border-bottom: 1px solid #333; padding-bottom: 12px; margin-top: 0; font-size: 24px; font-style: italic; }
        .fault-q { color: var(--danger); font-weight: 900; display: block; margin-bottom: 10px; }
        .hidden { display: none; }
        .source-tag { font-size: 12px; color: #666; display: block; margin-top: 8px; }
    </style>
</head>
<body>

<div class="main-wrapper">
    <header>PT-RQ35K æ™ºæ…§åŠ©æ‰‹ V3 - åŸå» è³‡æ–™æ•´åˆç‰ˆ</header>

    <div class="top-fixed-area">
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="è¼¸å…¥é—œéµå­— (é›»å£“ã€å¿«é–€ã€é¡é ­ã€è®Šæš—...)" oninput="globalSearch()">
        </div>
        <div class="tab-group">
            <button id="btn-tree" class="tab-btn active" onclick="switchView('tree')">é¸å–®ä¸»é </button>
            <button id="btn-sop" class="tab-btn gold" onclick="switchView('sop')">å®‰è£ SOP</button>
            <button id="btn-fault" class="tab-btn red" onclick="switchView('fault')">æ•…éšœæ’é™¤</button>
        </div>
    </div>

    <div class="content-container" id="scrollTarget">
        <section id="treeSection" class="view-section active">
            <div id="menuTree"></div>
        </section>

        <section id="sopSection" class="view-section">
            <h3>ğŸš€ å°ˆæ¥­å®‰è£èˆ‡åˆæ¬¡ä½¿ç”¨ SOP</h3>
            <div class="card" data-tags="é¡é ­ å®‰è£ lens ç‰©ç† é–ç·Š"><span class="step-tag">1</span><b>é¡é ­ç‰©ç†å®‰è£</b><br>ç§»é™¤é¡é ­å­”è“‹ï¼Œæ’å…¥é¡é ­ä¸¦é †æ™‚é‡æ—‹è½‰è‡³ç™¼å‡ºã€Œå–€åš“ã€è²ï¼Œå‹™å¿…é–ç·Šå›ºå®šèºçµ²ä»¥ç¢ºä¿å®‰å…¨ ã€‚</div>
            <div class="card" data-tags="è¨Šè™Ÿç·š é€£æ¥ é †åº è¨­å‚™"><span class="step-tag">2</span><b>é€£æ¥è¨Šè™Ÿç·š</b><br>è«‹åœ¨**é›»æºé—œé–‰**çš„ç‹€æ…‹ä¸‹ï¼Œå…ˆé€£æ¥å¤–éƒ¨è¨­å‚™ï¼ˆå¦‚é›»è…¦ã€æ’­æ”¾å™¨ï¼‰ä¹‹è¨Šè™Ÿç·š ã€‚</div>
            <div class="card" data-tags="é›»æº 220V 110V äº®åº¦ é›»å£“ è®Šæš—"><span class="step-tag">3</span><b>ç¢ºèªé›»æºé›»å£“</b><br>å¿…é ˆä½¿ç”¨ **200-240V** é›»æºã€‚è‹¥æ¥ 110Vï¼Œå…‰è¼¸å‡ºæœƒè‡ªå‹•é™ä½è‡³ç´„ 1/3 (å‰©ç´„ 10,000 lm) ã€‚</div>
            <div class="card" data-tags="åˆå§‹åŒ– é‚„åŸ å‡ºå»  reset initialize é è¨­ é‡è¨­ æ¸…é™¤ æŠ¹é™¤"><span class="step-tag">4</span><b>åŸ·è¡Œå…¨æ©Ÿé‡ç½® (Initialize)</b><br>è·¯å¾‘ï¼š[PROJECTOR SETUP] -> [INITIALIZE] -> [ALL USER DATA]ã€‚æ¸…é™¤æ‰€æœ‰å‰å ´ç•™ä¸‹çš„å¹¾ä½•èˆ‡é¡è‰²è¨­å®šã€‚</div>
            <div class="card" data-tags="é¡é ­ æ ¡æ­£ calibration lens å°ç„¦ æ¨¡ç³Š"><span class="step-tag">5</span><b>åŸ·è¡Œé¡é ­æ ¡æ­£ (Lens Calibration)</b><br>è·¯å¾‘ï¼š[PROJECTOR SETUP] -> [LENS] -> [LENS CALIBRATION]ã€‚è®“é¦¬é”æ‰¾å›ç‰©ç†åŸé»ã€‚</div>
        </section>

        <section id="faultSection" class="view-section">
            <h3>âš ï¸ é€²éšæ•…éšœæª¢æ¸¬æŒ‡å—</h3>
            <div class="card fault-card" data-tags="é›»æº é–‹å•Ÿ é–‹é—œ æ’åº§"><span class="fault-q">Q: é›»æºç„¡æ³•é–‹å•Ÿï¼Ÿ</span>1. æª¢æŸ¥é›»æºç·šæ˜¯å¦ç¢ºå¯¦æ’å…¥æ’åº§ã€‚<br>2. ç¢ºèªä¸»é›»æºé–‹é—œï¼ˆMain Powerï¼‰æ˜¯å¦åˆ‡æ›è‡³ã€ŒIã€é–‹é€šç‹€æ…‹ [cite: 1]ã€‚</div>
            <div class="card fault-card" data-tags="è®Šæš— äº®åº¦ 220V æº«åº¦ æ•£ç†± eco quiet ç¯€èƒ½"><span class="fault-q">Q: ç•«é¢æ˜é¡¯ä¸å¤ äº®ï¼Ÿ</span>1. **é›»å£“æª¢æŸ¥**ï¼šç¢ºèªæ˜¯å¦èª¤æ¥ 110V ã€‚<br>2. **æ¨¡å¼æª¢æŸ¥**ï¼š[OPERATING MODE] æ˜¯å¦è¢«è¨­ç‚º Eco æˆ– Quiet (æœƒé™ä½äº®åº¦ä»¥éœéŸ³/çœé›») ã€‚<br>3. **ç’°å¢ƒæª¢æŸ¥**ï¼šè‹¥ç’°å¢ƒæº«åº¦ >35Â°Cï¼Œç³»çµ±æœƒè‡ªå‹•é™éšäº®åº¦ä»¥ä¿è­·é›·å°„ ã€‚</div>
            <div class="card fault-card" data-tags="å¿«é–€ é»‘ç•«é¢ ç¶ ç‡ˆ é–ƒçˆ shutter"><span class="fault-q">Q: ç•«é¢çªç„¶è®Šé»‘ä½†é›»æºäº®è‘—ï¼Ÿ</span>æª¢æŸ¥æ˜¯å¦èª¤è§¸ [SHUTTER] å¿«é–€åŠŸèƒ½ã€‚ç•¶å¿«é–€é—œé–‰æ™‚ï¼ŒæŒ‡ç¤ºç‡ˆæœƒå‘ˆç¾**ç¶ è‰²æ…¢é–ƒ** ã€‚</div>
            <div class="card fault-card" data-tags="æ²’è¨Šè™Ÿ é»‘ç•«é¢ sdi hdmi signal no signal è§£æåº¦ é »ç‡"><span class="fault-q">Q: å·²æ¥è¨Šè™Ÿç·šä½†é¡¯ç¤º No Signalï¼Ÿ</span>é€²å…¥ [SIGNAL LIST] æª¢æŸ¥ç•¶å‰è¼¸å…¥æ ¼å¼æ˜¯å¦è®Šç´… (ä¸æ”¯æ´)ã€‚SDI è¨Šè™Ÿè«‹å˜—è©¦åˆ‡æ› Level-A/Bã€‚</div>
            <div class="card fault-card" data-tags="U12 U13 F10 F20 æ¿¾ç¶² å ±éŒ¯ è­¦å‘Š ä»£ç¢¼ error code æº«åº¦ é¢¨æ‰‡"><span class="fault-q">Q: å‡ºç¾ U12/U13 è­¦å‘Šï¼Ÿ</span>ä»£è¡¨é€²æ°£æ¿¾ç¶²å µå¡ï¼Œè«‹æ¸…æ½”é€²æ°£å­”ã€‚è‹¥å‡ºç¾ç´…è‰²æŒ‡ç¤ºç‡ˆï¼Œè¡¨ç¤ºéƒ¨åˆ†å…‰æºå…ƒä»¶å¯èƒ½æ•…éšœ ã€‚</div>
        </section>
    </div>
</div>

<script>
    // æ“´å±•è©åº«ï¼šæ ¹æ“šåŸå» æŒ‡å—åŠ å…¥æ›´å¤šé—œéµå­—
    const ALIAS_MAP = {
        "é‚„åŸ": ["initialize", "reset", "åˆå§‹åŒ–", "å‡ºå» ", "é è¨­", "é‡è¨­", "æ¸…é™¤"],
        "è§£æåº¦": ["signal", "format", "è¨Šè™Ÿ", "è§£æ", "é »ç‡"],
        "è¨Šè™Ÿæº": ["signal", "input", "hdmi", "sdi", "displayport", "è¨Šè™Ÿ"],
        "HDMI": ["input", "signal", "è¨Šè™Ÿæº"],
        "SDI": ["sdi", "level", "signal"],
        "å°ºå¯¸": ["aspect", "zoom", "æ¯”ä¾‹", "å°ºå¯¸", "å¤§å°"],
        "æ­ªäº†": ["geometry", "keystone", "å¹¾ä½•", "æ¢¯å½¢", "ä¿®æ­£", "æ–œäº†", "grid"],
        "è®Šæš—": ["brightness", "light", "é›»å£“", "110v", "220v", "eco", "quiet", "äº®åº¦", "æº«åº¦", "æ•£ç†±"],
        "å°ç„¦": ["focus", "lens", "æ ¡æ­£", "é¦¬é”", "æ¨¡ç³Š", "é¡é ­"],
        "å¿«é–€": ["shutter", "é»‘ç•«é¢", "é–ƒçˆ", "ç¶ ç‡ˆ"],
        "æ ¼ç·š": ["test", "pattern", "crosshatch", "ç¶²æ ¼"]
    };

    const menuData = [
        { en: "1. PICTURE", cn: "å½±åƒé¸å–®", children: [
            { en: "PICTURE MODE", cn: "å½±åƒæ¨¡å¼", options: ["STANDARD (æ¨™æº–)", "CINEMA (é›»å½±)", "NATURAL (è‡ªç„¶)", "GRAPHIC (åœ–å½¢)"] },
            { en: "CONTRAST / BRIGHTNESS", cn: "å°æ¯”èˆ‡äº®åº¦", options: ["Contrast: -30 ~ +30", "Brightness: -30 ~ +30"] },
            { en: "DYNAMIC CONTRAST", cn: "å‹•æ…‹å°æ¯”", options: ["OFF", "1", "2 (RQ35K é è¨­)", "3 (æœ€é«˜)", "LIGHTS OUT (ä¿¡è™Ÿéä½æ™‚é—œé–‰å…‰æº) "] },
            { en: "OPERATING MODE", cn: "é‹ä½œæ¨¡å¼", options: ["NORMAL (å…¨äº®åº¦)", "ECO (ç¯€èƒ½)", "QUIET (éœéŸ³) "] }
        ]},
        { en: "2. POSITION", cn: "ä½ç½®è¨­å®š", children: [
            { en: "SHIFT", cn: "é¡é ­ä½ç§»", options: ["Vertical Shift", "Horizontal Shift"] },
            { en: "ASPECT", cn: "é•·å¯¬æ¯”è¨­å®š", options: ["AUTO", "4:3", "16:9", "THROUGH (é»å°é»)"] },
            { en: "GEOMETRY", cn: "å¹¾ä½•æ ¡æ­£", children: [
                { en: "KEYSTONE", cn: "æ¢¯å½¢ä¿®æ­£", options: ["H-Keystone", "V-Keystone"] },
                { en: "CORNER CORRECTION", cn: "å››è§’ä¿®æ­£", options: ["å››é»ç¨ç«‹åº§æ¨™èª¿æ•´"] },
                { en: "FREE GRID", cn: "è‡ªç”±æ ¼é»æ ¡æ­£", options: ["2x2 ~ 16x16 é»ä½ç´°èª¿"] }
            ]}
        ]},
        { en: "6. PROJECTOR SETUP", cn: "æŠ•å½±æ©Ÿè¨­å®š", children: [
            { en: "LENS", cn: "é¡é ­è¨­å®š", children: [
                { en: "LENS CALIBRATION", cn: "é¡é ­æ ¡æ­£", options: ["Execute (é¦¬é”æ­¸ä½)"] },
                { en: "ACTIVE FOCUS OPTIMIZER", cn: "ä¸»å‹•å°ç„¦å„ªåŒ–", options: ["ON / OFF"] }
            ]},
            { en: "INITIALIZE", cn: "åˆå§‹åŒ– (å…¨æ©Ÿé‡ç½®)", children: [
                { en: "ALL USER DATA", cn: "å…¨ä½¿ç”¨è€…è³‡æ–™é‡ç½® (å‡ºå» åŒ–)", options: ["åŸ·è¡Œå¾Œæ¸…ç©ºæ‰€æœ‰å¹¾ä½•èˆ‡é¡è‰²è¨­å®š"] }
            ]},
            { en: "STATUS", cn: "æ©Ÿèº«ç‹€æ…‹è³‡è¨Š", options: ["Input Voltage (éœ€ 200V-240V)", "Runtime (é‹è¡Œæ™‚é–“)", "Light Output (%)"] }
        ]},
        { en: "7. TEST PATTERN", cn: "æ¸¬è©¦åœ–æ¨£", children: [
            { en: "INTERNAL TEST PATTERN", cn: "å…§å»ºæ¸¬è©¦åœ–æ¨£", options: ["CROSSHATCH (ç¶²æ ¼)", "WHITE", "BLACK", "COLOR BAR"] }
        ]}
    ];

    function switchView(view) {
        document.querySelectorAll('.view-section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        
        document.getElementById(view + 'Section').classList.add('active');
        document.getElementById('btn-' + view).classList.add('active');
        document.getElementById('scrollTarget').scrollTop = 0;
    }

    function globalSearch() {
        let input = document.getElementById('searchInput').value.toLowerCase().trim();
        const labels = document.querySelectorAll('.label');
        const cards = document.querySelectorAll('.card');
        
        if (!input) {
            labels.forEach(l => l.classList.remove('highlight'));
            cards.forEach(c => c.classList.remove('hidden'));
            return;
        }

        let keywords = [input];
        for (let key in ALIAS_MAP) {
            if (key.includes(input) || input.includes(key)) keywords = [...keywords, ...ALIAS_MAP[key]];
        }

        let foundInTree = false;
        let firstLabelMatch = null;

        labels.forEach(l => {
            const text = l.innerText.toLowerCase();
            const tags = (l.getAttribute('data-tags') || "").toLowerCase();
            const isHit = keywords.some(k => text.includes(k) || tags.includes(k));
            if (isHit) {
                l.classList.add('highlight');
                if (!firstLabelMatch) firstLabelMatch = l;
                foundInTree = true;
                let p = l.parentElement;
                while (p && p.classList.contains('node')) { p.classList.add('expanded'); p = p.parentElement.parentElement; }
            } else { l.classList.remove('highlight'); }
        });

        let foundInCards = false;
        cards.forEach(c => {
            const text = c.innerText.toLowerCase();
            const tags = (c.getAttribute('data-tags') || "").toLowerCase();
            const isHit = keywords.some(k => text.includes(k) || tags.includes(k));
            c.classList.toggle('hidden', !isHit);
            if (isHit) foundInCards = true;
        });

        if (foundInTree && !foundInCards) switchView('tree');
        else if (!foundInTree && foundInCards) switchView('sop');

        if (firstLabelMatch) firstLabelMatch.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    function draw(data, parent, level = 0) {
        data.forEach(item => {
            const node = document.createElement('div');
            node.className = `node level-${level} ${item.children ? '' : 'leaf'}`;
            const label = document.createElement('div');
            label.className = 'label';
            label.innerHTML = `<span class="en-text">${item.en}</span><span class="cn-text">${item.cn}</span>`;
            label.setAttribute('data-tags', `${item.en} ${item.cn} ${item.tags || ''}`);
            label.onclick = (e) => { e.stopPropagation(); node.classList.toggle('expanded'); };
            node.appendChild(label);

            if (item.options) {
                const optBox = document.createElement('div');
                optBox.className = 'options-box';
                item.options.forEach(opt => {
                    const optDiv = document.createElement('div');
                    optDiv.className = 'option-item';
                    optDiv.innerText = opt;
                    optBox.appendChild(optDiv);
                });
                node.appendChild(optBox);
            }

            if (item.children) {
                const childWrap = document.createElement('div');
                childWrap.className = 'children';
                draw(item.children, childWrap, level + 1);
                node.appendChild(childWrap);
            }
            parent.appendChild(node);
        });
    }
    draw(menuData, document.getElementById('menuTree'));
</script>
</body>
</html>
