<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PT-RQ35K æ™ºæ…§å°è¦½ V22 - Pro Layout</title>
    <style>
        :root { 
            --navy-dark: #0a0a0a; --card-bg: #161616; --gold: #d4af37; 
            --text-main: #ffffff; --text-sub: #a0a0a0; --active-blue: #007aff; --sop-green: #28cd41; --danger: #ff3b30;
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        html, body { background: var(--navy-dark); margin: 0; padding: 0; color: var(--text-main); font-family: "Inter", "PingFang TC", "Noto Sans TC", sans-serif; height: 100vh; overflow: hidden; }

        .main-wrapper { width: 100%; height: 100%; display: flex; flex-direction: column; }
        
        /* æ¨™é¡Œå€ */
        header { background: #000; color: var(--gold); padding: 10px; text-align: center; border-bottom: 2px solid var(--gold); flex-shrink: 0; font-weight: 900; letter-spacing: 2px; font-size: 14px; }
        
        /* æœå°‹èˆ‡åˆ†é åˆ‡æ› */
        .search-area { background: #111; padding: 15px; border-bottom: 1px solid #222; flex-shrink: 0; }
        #searchInput { width: 100%; padding: 16px; border-radius: 12px; border: 1px solid #333; background: #222; color: white; font-size: 18px; outline: none; transition: 0.3s; margin-bottom: 12px; }
        #searchInput:focus { border-color: var(--gold); }
        
        /* åˆ†é æŒ‰éˆ•çµ„ */
        .tab-group { display: flex; gap: 5px; }
        .tab-btn { flex: 1; padding: 12px 5px; border-radius: 8px; border: 1px solid #333; background: #1a1a1a; color: #888; cursor: pointer; font-weight: bold; font-size: 15px; transition: 0.2s; }
        .tab-btn.active { background: var(--active-blue); color: white; border-color: var(--active-blue); }
        .tab-btn.gold.active { background: var(--gold); color: black; border-color: var(--gold); }
        .tab-btn.red.active { background: var(--danger); color: white; border-color: var(--danger); }

        /* ä¸»å…§å®¹å®¹å™¨ */
        .content-container { flex: 1; overflow-y: auto; padding: 15px; scroll-behavior: smooth; }
        .view-section { display: none; }
        .view-section.active { display: block; }

        /* æ¨¹ç‹€çµæ§‹ UI */
        .node { margin-bottom: 8px; }
        .label { cursor: pointer; padding: 18px 15px 18px 50px; border-radius: 12px; background: var(--card-bg); border: 1px solid #222; display: flex; align-items: baseline; position: relative; transition: 0.2s; }
        .label:hover { border-color: var(--gold); }
        .label::before { content: 'â–¶'; font-size: 10px; position: absolute; left: 22px; top: 24px; color: var(--gold); transition: 0.2s; }
        .node.expanded > .label::before { transform: rotate(90deg); }
        .node.leaf > .label::before { content: 'â—‹'; color: #444; }
        
        /* æ–‡å­—è¨­è¨ˆï¼šè‹±æ–‡å·¦(ç²—) | ä¸­æ–‡å³(ç´°) */
        .en-text { font-weight: 900; font-size: 20px; color: #fff; margin-right: 12px; font-family: "Inter", sans-serif; }
        .cn-text { font-weight: 100; font-size: 19px; color: var(--text-sub); }
        
        .children { margin-left: 20px; display: none; border-left: 2px solid #222; padding-left: 15px; margin-top: 8px; }
        .node.expanded > .children { display: block; }
        .highlight { background: #3d3400 !important; border: 2px solid var(--gold) !important; box-shadow: 0 0 15px rgba(212,175,55,0.4); }

        /* å¡ç‰‡è¨­è¨ˆ */
        .card { background: #1e1e1e; padding: 20px; border-radius: 15px; margin-bottom: 15px; border-left: 8px solid var(--sop-green); line-height: 1.7; font-size: 18px; }
        .card.hidden { display: none; }
        .fault-card { border-left-color: var(--danger); background: #241819; }
        .step-tag { background: var(--sop-green); color: black; padding: 2px 10px; border-radius: 6px; margin-right: 10px; font-weight: 900; }
        h3 { color: var(--gold); border-bottom: 1px solid #333; padding-bottom: 10px; margin-top: 0; font-size: 22px; }
        .fault-q { color: var(--danger); font-weight: 900; display: block; margin-bottom: 8px; }
        
        /* è¼”åŠ©æ§åˆ¶ */
        .tree-tools { display: flex; gap: 10px; margin-bottom: 15px; }
        .tool-btn { padding: 8px 12px; border-radius: 6px; border: 1px solid #444; background: transparent; color: #888; font-size: 12px; cursor: pointer; }
    </style>
</head>
<body>

<div class="main-wrapper">
    <header>PANASONIC PT-RQ35K PRO-GUIDE V22</header>

    <div class="search-area">
        <input type="text" id="searchInput" placeholder="è¼¸å…¥é—œéµå­— (é‚„åŸã€è®Šæš—ã€æ­ªäº†ã€SDI...)" oninput="globalSearch()">
        <div class="tab-group">
            <button class="tab-btn active" onclick="switchView('tree')">é¸å–®ä¸»é </button>
            <button class="tab-btn gold" onclick="switchView('sop')">å®‰è£ SOP</button>
            <button class="tab-btn red" onclick="switchView('fault')">æ•…éšœæ’é™¤</button>
        </div>
    </div>

    <div class="content-container" id="mainContent">
        <section id="treeSection" class="view-section active">
            <div class="tree-tools">
                <button class="tool-btn" onclick="handleMasterToggle(true)">å…¨éƒ¨å±•é–‹</button>
                <button class="tool-btn" onclick="handleMasterToggle(false)">å…¨éƒ¨æ”¶åˆ</button>
            </div>
            <div id="menuTree"></div>
        </section>

        <section id="sopSection" class="view-section">
            <h3>ğŸš€ ç¬¬ä¸€æ¬¡æ“ä½œé–‹æ©Ÿ SOP</h3>
            <div class="card" data-tags="é›»æº 220V 110V äº®åº¦ é›»å£“"><span class="step-tag">1</span><b>ç¢ºèªé›»æºé›»å£“</b><br>è«‹ç¢ºèªè¼¸å…¥ç‚º **200-240V**ã€‚è‹¥æ¥ 110Vï¼Œæ©Ÿå™¨é›–èƒ½å•Ÿå‹•ï¼Œä½†äº®åº¦æœƒè‡ªå‹•é–¹å‰² 2/3 (åƒ…å‰© 10,000 lm)ã€‚</div>
            <div class="card" data-tags="åˆå§‹åŒ– é‚„åŸ å‡ºå»  reset initialize é è¨­"><span class="step-tag">2</span><b>åŸ·è¡Œå…¨æ©Ÿé‡ç½® (Initialize)</b><br>è·¯å¾‘ï¼š[PROJECTOR SETUP] -> [INITIALIZE] -> [ALL USER DATA]ã€‚å‹™å¿…æ¸…é™¤å‰ä¸€å ´æ´»å‹•æ®˜ç•™çš„å¹¾ä½•æ ¡æ­£èˆ‡èåˆè¨­å®šã€‚</div>
            <div class="card" data-tags="é¡é ­ æ ¡æ­£ calibration lens"><span class="step-tag">3</span><b>åŸ·è¡Œé¡é ­æ ¡æ­£ (Lens Calibration)</b><br>è·¯å¾‘ï¼š[PROJECTOR SETUP] -> [LENS] -> [LENS CALIBRATION]ã€‚æ›´æ›æˆ–é‡æ–°è£ä¸Šé¡é ­å¾Œï¼Œå¿…é ˆè®“é¦¬é”æ‰¾å›ç‰©ç†åŸé»ã€‚</div>
            <div class="card" data-tags="å°ç„¦ ç¸®æ”¾ focus zoom shift"><span class="step-tag">4</span><b>åˆæ­¥ç•«é¢å°ä½</b><br>ä½¿ç”¨é™æ§å™¨å¿«é€Ÿéµèª¿æ•´ [ZOOM] èˆ‡ [LENS SHIFT]ï¼Œå°‡ç•«é¢å¡«æ»¿æŠ•å½±å€ã€‚</div>
            <div class="card" data-tags="æ¸¬è©¦åœ–æ¨£ ç¶²æ ¼ pattern grid crosshatch"><span class="step-tag">5</span><b>èª¿ç”¨æ¸¬è©¦ç¶²æ ¼</b><br>è·¯å¾‘ï¼š[TEST PATTERN] -> [CROSSHATCH]ã€‚åœ¨ç¶²æ ¼ç‹€æ…‹ä¸‹é€²è¡Œ [GEOMETRY] å¹¾ä½•ä¿®æ­£æ‰ç²¾æº–ã€‚</div>
        </section>

        <section id="faultSection" class="view-section">
            <h3>âš ï¸ ç°¡æ˜“æ•…éšœæª¢æ¸¬</h3>
            <div class="card fault-card" data-tags="è®Šæš— ä¸å¤ äº® 220V 110V ç¯€èƒ½"><span class="fault-q">Q: ç•«é¢æ˜é¡¯ä¸å¤ äº®ï¼Ÿ</span>1. æª¢æŸ¥ [STATUS] é é¢è¼¸å…¥é›»å£“æ˜¯å¦ä½æ–¼ 200Vã€‚<br>2. æª¢æŸ¥ [LIGHT OUTPUT] æ˜¯å¦è¨­ç‚º Eco æˆ– Quiet æ¨¡å¼ã€‚</div>
            <div class="card fault-card" data-tags="æ²’è¨Šè™Ÿ é»‘ç•«é¢ sdi hdmi signal"><span class="fault-q">Q: å·²æ¥è¨Šè™Ÿç·šä½†é¡¯ç¤º No Signalï¼Ÿ</span>1. é€²å…¥ [SIGNAL LIST] æª¢æŸ¥ç•¶å‰è¼¸å…¥æ ¼å¼æ˜¯å¦è®Šç´… (ä¸æ”¯æ´)ã€‚<br>2. SDI è¨Šè™Ÿè«‹å˜—è©¦åœ¨ [SDI MODE] åˆ‡æ› Level-A/Bã€‚</div>
            <div class="card fault-card" data-tags="é¸å–® æ¶ˆå¤± åç° simple normal menu mode"><span class="fault-q">Q: é¸å–®é …ç›®æ¶ˆå¤±æˆ–ç„¡æ³•é¸å–ï¼Ÿ</span>é€²å…¥ [DISPLAY OPTION] -> [MENU MODE]ï¼Œå°‡è¨­å®šå¾ **SIMPLE** æ”¹å› **NORMAL**ã€‚</div>
            <div class="card fault-card" data-tags="U12 U13 F10 F20 å ±éŒ¯ è­¦å‘Š ä»£ç¢¼ error code"><span class="fault-q">Q: å‡ºç¾ U12/U13 è­¦å‘Šï¼Ÿ</span>é€™é€šå¸¸ä»£è¡¨é€²æ°£æ¿¾ç¶²å µå¡ï¼Œè«‹æª¢æŸ¥æŠ•å½±æ©Ÿå´é‚Šé€²æ°£å£æ˜¯å¦æœ‰ç°å¡µã€‚F ç³»åˆ—ä»£ç¢¼è«‹è¨˜éŒ„å¾Œå˜—è©¦é‡æ–°æ’æ‹”é›»æºã€‚</div>
        </section>
    </div>
</div>

<script>
    const ALIAS_MAP = {
        "é‚„åŸ": ["initialize", "reset", "å‡ºå» ", "é è¨­"],
        "é è¨­": ["initialize", "reset", "é‚„åŸ"],
        "å‡ºå» ": ["initialize", "reset", "é‚„åŸ"],
        "è®Šå½¢": ["å¹¾ä½•", "geometry", "æ¢¯å½¢", "ä¿®æ­£"],
        "è®Šæš—": ["äº®åº¦", "é›»å£“", "light", "output"],
        "æ­ªäº†": ["å¹¾å’Œ", "ä½ç§»", "æ¢¯å½¢", "grid"],
        "æ²’ç•«é¢": ["è¨Šè™Ÿ", "signal", "sdi", "hdmi"]
    };

    const menuData = [
        { en: "PICTURE", cn: "å½±åƒé¸å–®", children: [
            { en: "PICTURE MODE", cn: "å½±åƒæ¨¡å¼" },
            { en: "CONTRAST / BRIGHTNESS", cn: "å°æ¯”èˆ‡äº®åº¦" },
            { en: "COLOR / TINT", cn: "è‰²å½©èˆ‡è‰²èª¿" },
            { en: "WHITE BALANCE", cn: "ç™½å¹³è¡¡" },
            { en: "DYNAMIC CONTRAST", cn: "å‹•æ…‹å°æ¯”" }
        ]},
        { en: "POSITION", cn: "ä½ç½®è¨­å®š", children: [
            { en: "SHIFT", cn: "é¡é ­ä½ç§»" },
            { en: "ASPECT", cn: "é•·å¯¬æ¯”" },
            { en: "ZOOM", cn: "ç¸®æ”¾è¨­å®š" },
            { en: "GEOMETRY", cn: "å¹¾ä½•æ ¡æ­£", children: [
                { en: "KEYSTONE", cn: "æ¢¯å½¢ä¿®æ­£" },
                { en: "CORNER CORRECTION", cn: "å››è§’ä¿®æ­£" },
                { en: "FREE GRID", cn: "è‡ªç”±æ ¼é»æ ¡æ­£" }
            ]}
        ]},
        { en: "ADVANCED MENU", cn: "é€²éšåŠŸèƒ½", children: [
            { en: "EDGE BLENDING", cn: "é‚Šç·£èåˆ" },
            { en: "COLOR MATCHING", cn: "è‰²å½©åŒ¹é…" },
            { en: "MULTI-SCREEN", cn: "å¤šæ©Ÿç•«é¢è¨­å®š" }
        ]},
        { en: "DISPLAY LANGUAGE", cn: "é¡¯ç¤ºèªè¨€", children: [{ en: "LANGUAGE SELECT", cn: "èªç³»é¸æ“‡" }] },
        { en: "DISPLAY OPTION", cn: "é¡¯ç¤ºé¸é …", children: [
            { en: "ON-SCREEN DISPLAY", cn: "è¢å¹•é¡¯ç¤ºè¨­å®š" },
            { en: "MENU MODE", cn: "é¸å–®æ¨¡å¼ (Normal/Simple)" },
            { en: "MENU POSITION", cn: "é¸å–®é¡¯ç¤ºä½ç½®" }
        ]},
        { en: "PROJECTOR SETUP", cn: "æŠ•å½±æ©Ÿè¨­å®š", children: [
            { en: "PROJECTOR ID", cn: "æŠ•å½±æ©Ÿè­˜åˆ¥ç¢¼" },
            { en: "LENS", cn: "é¡é ­è¨­å®š", children: [
                { en: "LENS CALIBRATION", cn: "é¡é ­æ ¡æ­£" },
                { en: "ACTIVE FOCUS OPTIMIZER", cn: "ä¸»å‹•å°ç„¦å„ªåŒ–" }
            ]},
            { en: "STATUS", cn: "ç‹€æ…‹è³‡è¨Š (é›»å£“/æº«åº¦/é‹è¡Œæ™‚é–“)" },
            { en: "INITIALIZE", cn: "åˆå§‹åŒ– (å…¨æ©Ÿé‡ç½®)", tags: "é‚„åŸ å‡ºå» " },
            { en: "OPERATION SETTING", cn: "é‹è¡Œç’°å¢ƒè¨­å®š" }
        ]},
        { en: "TEST PATTERN", cn: "æ¸¬è©¦åœ–æ¨£", children: [
            { en: "INTERNAL TEST PATTERN", cn: "å…§å»ºæ¸¬è©¦åœ–æ¨£" },
            { en: "PATTERN SETTING", cn: "åœ–æ¨£å±¬æ€§è¨­å®š" }
        ]},
        { en: "SIGNAL LIST", cn: "è¨Šè™Ÿæ¸…å–®", children: [
            { en: "SIGNAL LIST", cn: "æ‰€æœ‰å¯ç”¨è¨Šè™Ÿè¡¨" },
            { en: "SIGNAL INFO", cn: "ç•¶å‰è¨Šè™Ÿè©³ç´°è³‡è¨Š" },
            { en: "SDI IN SETTING", cn: "SDI è¼¸å…¥è¨­å®š", children: [{ en: "SDI MODE", cn: "Level A/B åˆ‡æ›" }] }
        ]},
        { en: "SECURITY", cn: "å®‰å…¨æ€§è¨­å®š", children: [
            { en: "PIN CODE CHANGE", cn: "è®Šæ›´ PIN å¯†ç¢¼" },
            { en: "SECURITY LOCK", cn: "å®‰å…¨æ€§é–å®š" }
        ]},
        { en: "NETWORK", cn: "ç¶²è·¯è¨­å®š", children: [
            { en: "WIRED LAN", cn: "æœ‰ç·šç¶²è·¯è¨­å®š" },
            { en: "ADMINISTRATOR ACCOUNT", cn: "ç®¡ç†å“¡å¸³è™Ÿ" },
            { en: "NETWORK STATUS", cn: "ç¶²è·¯ç‹€æ…‹æŸ¥çœ‹" }
        ]}
    ];

    function switchView(view) {
        document.querySelectorAll('.view-section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        
        document.getElementById(view + 'Section').classList.add('active');
        event.currentTarget.classList.add('active');
        
        // åˆ‡æ›è¦–åœ–æ™‚æ¸…é™¤æœå°‹
        document.getElementById('searchInput').value = "";
        globalSearch();
        document.getElementById('mainContent').scrollTop = 0;
    }

    function globalSearch() {
        let input = document.getElementById('searchInput').value.toLowerCase().trim();
        const labels = document.querySelectorAll('.label');
        const cards = document.querySelectorAll('.card');
        
        if (!input) {
            labels.forEach(l => l.classList.remove('highlight'));
            cards.forEach(c => c.classList.remove('hidden', 'search-match'));
            return;
        }

        let keywords = [input];
        for (let key in ALIAS_MAP) {
            if (key.includes(input) || input.includes(key)) keywords = [...keywords, ...ALIAS_MAP[key]];
        }

        labels.forEach(l => {
            const text = l.innerText.toLowerCase();
            const tags = (l.getAttribute('data-tags') || "").toLowerCase();
            const isHit = keywords.some(k => text.includes(k) || tags.includes(k));
            if (isHit) {
                l.classList.add('highlight');
                let p = l.parentElement;
                while (p && p.classList.contains('node')) { p.classList.add('expanded'); p = p.parentElement.parentElement; }
            } else { l.classList.remove('highlight'); }
        });

        cards.forEach(c => {
            const text = c.innerText.toLowerCase();
            const tags = (c.getAttribute('data-tags') || "").toLowerCase();
            const isHit = keywords.some(k => text.includes(k) || tags.includes(k));
            c.classList.toggle('hidden', !isHit);
        });
    }

    function handleMasterToggle(expand) {
        document.querySelectorAll('.node').forEach(n => expand ? n.classList.add('expanded') : n.classList.remove('expanded'));
    }

    function draw(data, parent, level = 0) {
        data.forEach(item => {
            const node = document.createElement('div');
            node.className = `node level-${level} ${item.children ? '' : 'leaf'}`;
            const label = document.createElement('div');
            label.className = 'label';
            
            // è‹±æ–‡å·¦(ç²—) | ä¸­æ–‡å³(ç´°)
            label.innerHTML = `<span class="en-text">${item.en}</span><span class="cn-text">${item.cn}</span>`;
            label.setAttribute('data-tags', `${item.en} ${item.cn} ${item.tags || ''}`);
            
            label.onclick = (e) => { e.stopPropagation(); node.classList.toggle('expanded'); };
            node.appendChild(label);
            if (item.children) {
                const childWrap = document.createElement('div');
                childWrap.className = 'children';
                draw(item.children, childWrap, level + 1);
                node.appendChild(childWrap);
            }
            parent.appendChild(node);
        });
    }
    draw(menuData, document.getElementById('menuTree'));
</script>
</body>
</html>
