<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PT-RQ35K é¸å–®å°è¦½ V6.1 (å…¨å…§å®¹å¯¦æ©ŸåŒæ­¥ç‰ˆ)</title>
    <style>
        :root { 
            --navy-dark: #050505; --card-bg: #1a1a1a; --gold: #d4af37; 
            --text-main: #ffffff; --text-sub: #d1d1d1; --active-blue: #007aff; --sop-green: #28cd41; --danger: #ff3b30;
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        html, body { 
            background: var(--navy-dark); margin: 0; padding: 0; 
            color: var(--text-main); font-family: "Inter", "PingFang TC", "Microsoft JhengHei", sans-serif; 
            height: 100vh; height: 100svh; overflow: hidden; 
        }
        .main-wrapper { width: 100%; height: 100%; display: flex; flex-direction: column; }
        header { 
            background: #000; color: var(--gold); padding: 12px 15px; border-bottom: 2px solid var(--gold); 
            flex-shrink: 0; display: flex; justify-content: space-between; align-items: center;
        }
        .header-title { font-weight: 900; letter-spacing: 2px; font-size: 14px; }
        .header-team { font-weight: 400; font-size: 10px; opacity: 0.8; letter-spacing: 1px; }
        .top-fixed-area { background: #111; border-bottom: 1px solid #222; flex-shrink: 0; z-index: 1000; }
        .search-container { padding: 12px 15px 8px 15px; position: relative; display: flex; align-items: center; }
        #searchInput { width: 100%; padding: 14px 45px 14px 14px; border-radius: 10px; border: 1px solid #444; background: #222; color: white; font-size: 16px; outline: none; transition: 0.3s; }
        .clear-btn { position: absolute; right: 25px; width: 24px; height: 24px; background: #444; color: #fff; border-radius: 50%; border: none; cursor: pointer; display: none; align-items: center; justify-content: center; font-size: 14px; font-weight: bold; }
        .clear-btn.active { display: flex; }
        .tab-group { display: flex; gap: 5px; padding: 0 15px 12px 15px; }
        .tab-btn { flex: 1; padding: 10px 5px; border-radius: 8px; border: 1px solid #333; background: #1a1a1a; color: #888; cursor: pointer; font-weight: bold; font-size: 14px; }
        .tab-btn.active { background: var(--active-blue); color: white; border-color: var(--active-blue); }
        .tab-btn.gold.active { background: var(--gold); color: black; border-color: var(--gold); }
        .tab-btn.red.active { background: var(--danger); color: white; border-color: var(--danger); }
        .content-container { flex: 1; overflow-y: auto; padding: 12px 12px 100px 12px; scroll-behavior: smooth; }
        .view-section { display: none; width: 100%; }
        .view-section.active { display: block; }
        .node { margin-bottom: 8px; width: 100%; }
        .node.hidden { display: none; }
        .label { cursor: pointer; padding: 15px 12px 15px 42px; border-radius: 12px; background: var(--card-bg); border: 1px solid #2a2a2a; display: flex; align-items: center; position: relative; }
        .label::before { content: 'â–¶'; font-size: 9px; position: absolute; left: 18px; color: var(--gold); transition: 0.2s; }
        .node.expanded > .label::before { transform: rotate(90deg); }
        .node.leaf > .label::before { content: 'â—‹'; color: #666; }
        .cn-text { font-weight: 900; font-size: 15px; color: #fff; margin-right: 8px; }
        .en-text { font-weight: 300; font-size: 12px; color: var(--gold); opacity: 0.8; } 
        .options-box { margin: 8px 0 8px 30px; background: #000; border: 1px dashed #444; border-radius: 10px; padding: 12px; display: none; }
        .node.expanded > .options-box { display: block; }
        .option-item { color: #aaa; font-size: 13px; margin-bottom: 4px; display: flex; align-items: center; }
        .option-item::before { content: 'â€¢'; color: var(--gold); margin-right: 8px; }
        .children { margin-left: 18px; display: none; border-left: 2px solid #333; padding-left: 12px; margin-top: 8px; }
        .node.expanded > .children { display: block; }
        .highlight { background: #3d3400 !important; border: 1.5px solid var(--gold) !important; box-shadow: 0 0 15px rgba(212,175,55,0.3); }
        .card { background: #1a1a1a; padding: 18px; border-radius: 15px; margin-bottom: 12px; border-left: 6px solid var(--sop-green); line-height: 1.6; font-size: 15px; border-top: 1px solid #333; }
        .fault-card { border-left-color: var(--danger); background: #201516; }
        .step-tag { background: var(--sop-green); color: black; padding: 2px 8px; border-radius: 5px; margin-right: 10px; font-weight: 900; font-size: 11px; }
        .path-hint { color: var(--gold); font-size: 13px; display: block; margin-top: 8px; font-family: monospace; font-weight: bold; }
        h3 { color: var(--gold); border-bottom: 1px solid #333; padding-bottom: 10px; margin-top: 0; font-size: 19px; font-style: italic; }
        .fault-q { color: var(--danger); font-weight: 900; display: block; margin-bottom: 8px; font-size: 16px; }
        .badge { font-size: 11px; color: var(--gold); background: rgba(212,175,55,0.1); padding: 1px 6px; border-radius: 4px; margin-left: 8px; border: 1px solid rgba(212,175,55,0.2); }
    </style>
</head>
<body>

<div class="main-wrapper">
    <header>
        <span class="header-title">PT-RQ35K é¸å–®å°è¦½ V6.1 (å…¨å…§å®¹å¯¦æ©ŸåŒæ­¥ç‰ˆ)</span>
        <span class="header-team">TPAC AV TEAM</span>
    </header>

    <div class="top-fixed-area">
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="æœå°‹ï¼šU12ã€å‚™ä»½ã€é»‘å¹³è¡¡ã€4Kã€RS232..." oninput="globalSearch()">
            <button id="clearSearch" class="clear-btn" onclick="clearInput()">âœ•</button>
        </div>
        <div class="tab-group">
            <button id="btn-tree" class="tab-btn active" onclick="handleTreeTabClick()">é¸å–®ä¸»é </button>
            <button id="btn-sop" class="tab-btn gold" onclick="switchView('sop')">å®‰è£ SOP</button>
            <button id="btn-fault" class="tab-btn red" onclick="switchView('fault')">æ•…éšœæ’é™¤</button>
        </div>
    </div>

    <div class="content-container" id="scrollTarget">
        <section id="treeSection" class="view-section active">
            <div id="menuTree"></div>
        </section>

        <section id="sopSection" class="view-section">
            <h3>ğŸš€ å°ˆæ¥­å®‰è£èˆ‡ç¶­è­·æ•´åˆ SOP (å…¨é‡è£œå®Œ)</h3>
            <div class="card"><span class="step-tag">1</span><b>é¡é ­å®‰è£èˆ‡æ–·é›»ä¿è­·</b><br>æ›´æ›é¡é ­å‰<b>å¿…é ˆé—œé–‰ä¸»é›»æº</b>ã€‚æ’å…¥é¡é ­é †æ™‚é‡æ—‹è‡³ã€Œå–€åš“ã€è²å¾Œï¼Œå‹™å¿…é–ç·Šå´é‚Šå®‰å…¨èºçµ²ã€‚é–‹æ©Ÿå¾ŒåŸ·è¡Œ [é¡é ­æ ¡æ­£] è®“é¦¬é”æ„Ÿæ‡‰æ¥µé™ä½ç½®ï¼Œå¦å‰‡ç„¡æ³•é€²è¡Œå¹¾ä½•èª¿æ•´ã€‚</div>
            <div class="card"><span class="step-tag">2</span><b>é›»æºèˆ‡äº®åº¦ (AC 200V é—œéµ)</b><br>è‹¥ä½¿ç”¨ AC 100-120V é›»æºï¼Œäº®åº¦æœƒè‡ªå‹•é™è‡³ç´„ 12,000 lm (1/3)ã€‚å…¨äº®åº¦ 30,500 lm å¿…é ˆæ¥ <b>AC 200-240V</b>ã€‚
                <span class="path-hint">æ ¸å°æŒ‡æ¨™ï¼š[6. æŠ•å½±æ©Ÿè¨­ç½®] -> [ç‹€æ…‹] -> [AC é›»å£“]</span>
            </div>
            <div class="card"><span class="step-tag">3</span><b>å…‰å­¸ä¸­å¿ƒèˆ‡å°ç„¦å¹³è¡¡</b><br>é™¤äº†é¸å–®å…§çš„ Focus èª¿æ•´ï¼Œè‹¥ç•«é¢é‚Šç·£æ¨¡ç³Šï¼Œè«‹æ‰‹å‹•æ—‹è½‰é¡é ­ä¸Šçš„ã€Œå¤–åœç„¦é»èª¿æ•´ç’°ã€é€²è¡Œå°ç„¦å¹³è¡¡ã€‚å»ºè­°åœ¨ç†±æ©Ÿ 30 åˆ†é˜å¾ŒåŸ·è¡Œã€‚</div>
            <div class="card"><span class="step-tag">4</span><b>é»‘å¹³è¡¡æ ¡æº– (Black Balance)</b><br>ç’°å¢ƒå…‰æºæ”¹è®Šæˆ–é»‘è‰²ç™¼ç´«/ç™¼ç¶ æ™‚ï¼Œè«‹å‹™å¿…<b>è“‹ä¸Šé¡é ­è“‹</b>å¾ŒåŸ·è¡Œã€‚æ­¤æ“ä½œæœƒæ ¡æº–æŠ•å½±æ©Ÿåœ¨ç„¡è¨Šè™Ÿä¸‹çš„æš—éƒ¨åŸºç¤è‰²å½©ã€‚
                <span class="path-hint">è·¯å¾‘ï¼š[1. åœ–åƒ] -> [é€²éšå½±åƒèª¿ç¯€] -> [é»‘å¹³è¡¡]</span>
            </div>
            <div class="card"><span class="step-tag">5</span><b>4K è¨Šè™Ÿèˆ‡ EDID æ‰‹å‹•æ¡æ‰‹</b><br>è‹¥é›»è…¦ç„¡æ³•æŠ“åˆ° 4K è¨Šè™Ÿï¼Œè«‹è‡³é¸å–®æ‰‹å‹•è¨­å®š EDID æ¨¡å¼ã€‚
                <span class="path-hint">è·¯å¾‘ï¼š[5. é¡¯ç¤ºæ–¹å¼é¸é …] -> [è¼¸å…¥ç«¯å­è¨­å®š] -> [EDID é¸é …] -> åˆ‡æ›ç‚º [4K/60p] æˆ– [USER]</span>
            </div>
            <div class="card"><span class="step-tag">6</span><b>å¹¾ä½•çŸ¯æ­£èˆ‡ 4K é©…å‹•é—œä¿‚</b><br>ç•¶é–‹å•Ÿ [è‡ªç”±ç¶²æ ¼] æˆ–ç‰¹å®šå¹¾ä½•ä¿®æ­£æ™‚ï¼Œ[QUAD PIXEL DRIVE] å¯èƒ½æœƒè¢«å¼·åˆ¶å›ºå®šç‚º [ON]ã€‚</div>
            <div class="card"><span class="step-tag">7</span><b>æ•¸æ“šå‚™ä»½ (Data Cloning)</b><br>å®Œæˆæ ¡æ­£å¾Œï¼Œå»ºè­°ä½¿ç”¨ USB éš¨èº«ç¢Ÿå‚™ä»½æ‰€æœ‰ç”¨æˆ¶æ•¸æ“šã€‚æ­¤å‚™ä»½å¯ç”¨æ–¼å¿«é€Ÿæ›æ©Ÿé‚„åŸå¹¾ä½•èˆ‡è‰²å½©è¨­å®šã€‚
                <span class="path-hint">è·¯å¾‘ï¼š[6. æŠ•å½±æ©Ÿè¨­ç½®] -> [æ•¸æ“šå…‹éš†] -> [å¯«å…¥ USB]</span>
            </div>
            <div class="card"><span class="step-tag">8</span><b>æ¿¾ç¶²ç¶­è­·èˆ‡è¨ˆæ™‚é‡ç½®</b><br>æ¸…æ½”æ¿¾ç¶²å¾Œï¼Œå¿…é ˆåœ¨é¸å–®ä¸­é‡ç½®æ¿¾ç¶²è¨ˆæ™‚å™¨ï¼Œå¦å‰‡ç³»çµ±æœƒæŒçºŒå ±è­¦ (U12/U13) ä¸¦å¯èƒ½é™åˆ¶äº®åº¦ä»¥é˜²éç†±ã€‚
                <span class="path-hint">è·¯å¾‘ï¼š[6. æŠ•å½±æ©Ÿè¨­ç½®] -> [ç‹€æ…‹] -> [æ¿¾ç¶²è¨ˆæ™‚å™¨]</span>
            </div>
        </section>

        <section id="faultSection" class="view-section">
            <h3>âš ï¸ æ·±åº¦æ•…éšœæ’é™¤èˆ‡è­¦å ±æ‡‰å° (å…¨é‡è£œå®Œ)</h3>
            <div class="card fault-card"><span class="fault-q">Q: å‡ºç¾ U é–‹é ­è­¦å ±ä»£ç¢¼ï¼Ÿ (è‡ªæˆ‘è¨ºæ–·)</span>
                â€¢ <b>U12 / U13</b>ï¼šé€²/æ’æ°£æº«åº¦éé«˜ã€‚è«‹ç«‹å³æ¸…æ½”æ¿¾ç¶²ä¸¦ç¢ºèªé€²æ°£å­”ç„¡é®æ“‹ã€‚<br>
                â€¢ <b>U15</b>ï¼šæ’æ°£æº«åº¦éé«˜ã€‚è«‹æª¢æŸ¥æŠ•å½±æ©Ÿå¾Œæ–¹æ•£ç†±ç©ºé–“ (è‡³å°‘ç•™ 50cm)ã€‚<br>
                â€¢ <b>U081</b>ï¼šAC è¼¸å…¥é›»å£“éä½ (ä½æ–¼ 90V)ã€‚è«‹æª¢æŸ¥ä¾›é›»ç³»çµ±è² è¼‰ã€‚
            </div>
            <div class="card fault-card"><span class="fault-q">Q: å‡ºç¾ F é–‹é ­ä»£ç¢¼ï¼Ÿ (ç¡¬é«”æ•…éšœ)</span>
                å±¬æ–¼å…§éƒ¨é›¶ä»¶ç•°å¸¸ (å¦‚ F1ï¼šé¢¨æ‰‡æ•…éšœã€F2ï¼šå…‰æºé©…å‹•ç•°å¸¸)ã€‚è«‹è¨˜éŒ„ä»£ç¢¼å¾Œï¼Œæ‹”æ‰é›»æºæ’é ­ç­‰å€™ 5 åˆ†é˜å†é‡è©¦ã€‚è‹¥æŒçºŒå‡ºç¾ï¼Œè«‹è¯çµ¡æŠ€è¡“äººå“¡ã€‚
            </div>
            <div class="card fault-card"><span class="fault-q">Q: ç•«é¢äº®åº¦æ˜é¡¯ä¸è¶³ï¼Ÿ</span>
                1. <b>ç¢ºèªé›»å£“</b>ï¼šæ˜¯å¦èª¤æ¥ 110Vï¼Ÿ<br>
                2. <b>æ“ä½œæ¨¡å¼</b>ï¼šæ˜¯å¦èª¤è¨­ç‚º [ECO] æˆ– [QUIET]ï¼Ÿ<br>
                3. <b>äº®åº¦æ§åˆ¶</b>ï¼šæª¢æŸ¥æ˜¯å¦é–‹å•Ÿ [æ†å®šæ¨¡å¼]ï¼Œé€™æœƒå°è‡´åˆå§‹äº®åº¦å—é™ã€‚<br>
                4. <b>å¿«é–€</b>ï¼šç¢ºèªæ©Ÿæ¢°å¿«é–€ (Shutter) æ˜¯å¦è™•æ–¼åŠé–‹ç‹€æ…‹æˆ–èª¤è¨­æ·¡å…¥æ™‚é–“ã€‚
            </div>
            <div class="card fault-card"><span class="fault-q">Q: é¡é ­ç„¡æ³•ä½ç§» (Lens Shift)ï¼Ÿ</span>
                1. æª¢æŸ¥ [6. æŠ•å½±æ©Ÿè¨­ç½®] -> [é¡é ­] -> [é¡é ­é–] æ˜¯å¦è¨­ç‚º ONã€‚<br>
                2. åŸ·è¡Œ [é¡é ­æ ¡æ­£]ï¼Œè®“æ©Ÿå™¨é‡æ–°æ„Ÿæ‡‰é¦¬é”æ¥µé™é»ã€‚
            </div>
        </section>
    </div>
</div>

<script>
    const ALIAS_MAP = {
        "åˆå§‹åŒ–": ["é‡ç½®", "reset", "é‚„åŸ", "factory", "æ¸…ç©º"],
        "é¡é ­": ["lens", "zoom", "focus", "æ ¡æ­£", "é¦¬é”", "ä½ç§»", "åŸé»"],
        "æ“ä½œæ¨¡å¼": ["ç¯€èƒ½", "ä½å™ªéŸ³", "quiet", "eco", "äº®åº¦é™ä½"],
        "æ•¸æ“šå…‹éš†": ["å‚™ä»½", "usb", "clone", "åŒæ­¥"],
        "ç¶²çµ¡": ["ip", "art-net", "pjlink", "æ§åˆ¶", "ä¹™å¤ªç¶²è·¯"],
        "4K": ["quad pixel", "è§£æåº¦", "edid", "3840", "4096", "hdr"],
        "ç‹€æ…‹": ["æº«åº¦", "é›»å£“", "è¨ˆæ™‚å™¨", "ä»£ç¢¼", "u12", "u13", "u15", "u081"]
    };

    const menuData = [
        { cn: "1. åœ–åƒ", en: "Picture", children: [
            { cn: "åœ–åƒæ¨¡å¼", en: "Picture Mode", badge: "æ¨™æº–/å½±é™¢/å‹•æ…‹/è‡ªç„¶/ç›´é€š/é»‘æ¿" },
            { cn: "åŸºç¤èª¿æ•´", en: "Basic", options: ["å°æ¯”åº¦", "äº®åº¦", "å½©è‰²", "è‰²åº¦", "éŠ³åº¦"] },
            { cn: "è‰²æº«", en: "Color Temperature", badge: "3200K - 9300K / User 1-2" },
            { cn: "ä¼½ç‘ªæ¨¡å¼", en: "Gamma", badge: "æ¨™æº– / DICOM / HDR / BT.2100" },
            { cn: "ç³»çµ±æ—¥å…‰æ¨¡å¼", en: "System Daylight View", badge: "è‡ªå‹• / æ‰‹å‹• / é—œ" },
            { cn: "é€²éšå½±åƒèª¿ç¯€", en: "Advanced", children: [
                { cn: "é»‘å¹³è¡¡", en: "Black Balance", badge: "æ ¡æ­£æš—éƒ¨è‰²å½© (éœ€è“‹è“‹å­)" },
                { cn: "å‹•æ…‹å°æ¯”åº¦", en: "Dynamic Contrast", badge: "é—œ / 1 / 2 / 3 (å¼·)" },
                { cn: "è‰²å½©ç©ºé–“", en: "Color Space", badge: "Rec.709 / Rec.2020 / Native" },
                { cn: "é›œè¨ŠæŠ‘åˆ¶", en: "Noise Reduction", badge: "é—œ/å¼±/ä¸­/å¼·" }
            ]}
        ]},
        { cn: "2. ä½ç½®", en: "Position", children: [
            { cn: "ç§»ä½", en: "Shift", badge: "V: Â±50% / H: Â±18%" },
            { cn: "å¯¬é«˜æ¯”", en: "Aspect", badge: "16:10 / 16:9 / 4:3 / è‡ªè¨‚" },
            { cn: "æ•¸å­—è®Šç„¦", en: "Digital Zoom", badge: "ç•«é¢å±€éƒ¨æ”¾å¤§ã€ç¸®å°ã€ä½ç§»" },
            { cn: "å¹¾ä½•çŸ¯æ­£", en: "Geometry", children: [
                { cn: "æ¢¯å½¢çŸ¯æ­£", en: "Keystone", options: ["å‚ç›´æ¢¯å½¢", "æ°´å¹³æ¢¯å½¢"] },
                { cn: "å››è§’çŸ¯æ­£", en: "Corner Correction", options: ["å››è§’ç¨ç«‹å¾®èª¿"] },
                { cn: "è‡ªç”±ç¶²æ ¼", en: "Free Grid", options: ["2x2 è‡³ 17x17 ç¶²æ ¼æ•¸è¨­å®š", "é»ä½å¾®èª¿"] },
                { cn: "æ›²é¢çŸ¯æ­£", en: "Curved Correction", options: ["ç­’å½¢/æ•å½¢", "ç·šæ€§/éç·šæ€§"] }
            ]},
            { cn: "è‰²å½©æ”¶æ–‚", en: "Convergence", badge: "R/G/B æœƒèšå¾®èª¿ (ä¸­å¤®èˆ‡å‘¨é‚Š)" }
        ]},
        { cn: "3. é€²éšé¸å–®", en: "ADVANCED", children: [
            { cn: "DIGITAL CINEMA REALITY", en: "Cinema Reality" },
            { cn: "ç°åº¦å¹³æ»‘å™¨", en: "Grayscale Smoother" },
            { cn: "è£åˆ‡", en: "Cropping" },
            { cn: "è¾¹ç¼˜æ··åˆ", en: "Edge Blending", badge: "å…³", options: ["æ··åˆå¼€å…³", "é»‘è‰²ç”µå¹³è¡¥å¿", "æ··åˆå®½åº¦", "æ··åˆæ ‡è®°"] },
            { cn: "å¸§å“åº”", en: "Frame Response" },
            { cn: "å¸§å»¶è¿Ÿ", en: "Frame Delay" },
            { cn: "QUAD PIXEL DRIVE", en: "4K Drive", badge: "å¼€" },
            { cn: "å…‰æ …ä½ç½®é€‰æ‹©", en: "Raster Position Selection" }
        ]},
        { cn: "4. é¡¯ç¤ºèªç¨®", en: "Language", badge: "æ”¯æŒ 10 åœ‹èªç³»" },
        { cn: "5. é¡¯ç¤ºæ–¹å¼é¸é …", en: "Display Option", children: [
            { cn: "è‰²å½©åŒ¹é…", en: "Color Matching", badge: "å…³", options: ["è‰²å½©åŒ¹é…å¼€å…³", "ç›®æ ‡ç™½é»", "ä¸‰è‰²åŒ¹é…", "ä¸ƒè‰²åŒ¹é…"] },
            { cn: "å±å¹•è¨­å®š", en: "Screen Setting", children: [
                { cn: "å±å¹•æ ¼å¼", en: "Screen Format", badge: "16:10" },
                { cn: "å±å¹•ä½ç½®", en: "Screen Position" },
                { cn: "å±å¹•æ¨™è­˜", en: "Screen Branding", badge: "å…³" }
            ]},
            { cn: "è¼¸å…¥è‡ªå‹•è¨­å®š", en: "Auto Input Selection", badge: "å…³" },
            { cn: "è‡ªå‹•è¨­ç½®", en: "Auto Setup" },
            { cn: "å‚™ç”¨è¼¸å…¥è¨­ç½®", en: "Backup Input Setting" },
            { cn: "åŒæ­¥è¼¸å…¥è¨­å®š", en: "Synchronized Input Setting" },
            { cn: "HDMI IN", children: [
                { cn: "EDID é¸é …", badge: "4K/HDR / 2K / USER" },
                { cn: "è§£æåº¦è¨­å®š" }
            ]},
            { cn: "DIGITAL LINK IN", badge: "æ¥æ”¶åƒæ•¸" },
            { cn: "SLOT IN", badge: "æ“´å……æ§½" },
            { cn: "é¡¯ç¤ºèœå–®", en: "Display Menu", children: [
                { cn: "OSDä½ç½®", badge: "2" },
                { cn: "OSDæ—‹è½¬", badge: "å…³" },
                { cn: "OSDé¢œè‰²", badge: "1" },
                { cn: "OSDè®°å¿†", badge: "å…³" },
                { cn: "è¼¸å…¥å‘å°", badge: "å¼€" },
                { cn: "å ±è­¦ä¿¡æ¯", badge: "å…³" }
            ]},
            { cn: "èœå–®æ¨¡å¼", en: "Menu Mode", badge: "æ™®é€š / ç®€æ˜“" },
            { cn: "èƒŒæ™¯è‰²", en: "Background Color", badge: "é»‘" },
            { cn: "é–‹æ©Ÿ LOGO", en: "Startup LOGO", badge: "é»˜è®¤LOGO" }
        ]},
        { cn: "6. æŠ•å½±æ©Ÿè¨­ç½®", en: "Projector Setup", children: [
            { cn: "æŠ•å½±æ©Ÿ ID", en: "Projector ID" },
            { cn: "æŠ•å½±æ–¹å¼", en: "Projection Method" },
            { cn: "é¡é ­", en: "Lens", children: [
                { cn: "é¡é ­å‹å¼", en: "Lens Type", badge: "ET-D3LEW10" },
                { cn: "é¡é ­ä¿¡æ¯è¨­ç½®", en: "Lens Info" },
                { cn: "é¡é ­è¨˜éŒ„", en: "Lens Memory", options: ["è½½å…¥", "å­˜å‚¨", "åç§°ç¼–è¾‘", "åˆ é™¤"] },
                { cn: "é¡é ­åŸå§‹è¨­ç½®ä½ç½®", en: "Lens Home Position", options: ["æ‰§è¡Œ", "å–æ¶ˆ"] },
                { cn: "ä¸»å‹•å¼èšç„¦å„ªåŒ–å™¨", en: "Active Focus Optimizer" },
                { cn: "é¡é ­æ ¡æ­£", en: "Lens Calibration", children: [
                    { cn: "ç§»ä½ / èšç„¦ / è®Šç„¦", en: "Shift/Focus/Zoom" },
                    { cn: "ç§»ä½ / èšç„¦", en: "Shift/Focus" },
                    { cn: "è®Šç„¦", en: "Zoom" }
                ]}
            ]},
            { cn: "æ“ä½œè¨­ç½®", en: "Operation" },
            { cn: "ç‹€æ…‹", en: "Status", children: [
                { cn: "é‹è¡Œæ™‚é–“", en: "Runtime" },
                { cn: "å…§éƒ¨æº«åº¦", en: "Temperature", options: ["é€²æ°£ (U12)", "å…‰æº", "æ’æ°£ (U13/U15)"] },
                { cn: "AC é›»å£“", en: "AC Voltage", badge: "æ ¸å° 200-240V" }
            ]},
            { cn: "æ•¸æ“šå…‹éš†", en: "Data Cloning", options: ["USB å‚™ä»½", "USB è®€å–"] },
            { cn: "åˆå§‹åŒ–", en: "Initialize" }
        ]},
        { cn: "7. æ¸¬è©¦æ¨¡å¼", en: "Test Pattern" },
        { cn: "8. ç™»éŒ„ä¿¡è™Ÿä¸€è¦½", en: "Signal List" },
        { cn: "9. å®‰å…¨", en: "Security" },
        { cn: "10. ç¶²çµ¡", en: "Network" }
    ];

    // --- æ¸²æŸ“èˆ‡æœå°‹é‚è¼¯ (ç¶­æŒ V5.8 ä»¥é™ç©©å®šç‰ˆ) ---
    function handleTreeTabClick() {
        if (!document.getElementById('treeSection').classList.contains('active')) {
            switchView('tree');
        } else {
            const nodes = document.querySelectorAll('.node');
            const isAnyExpanded = Array.from(nodes).some(n => n.classList.contains('expanded'));
            handleMasterToggle(!isAnyExpanded);
        }
    }
    function switchView(view) {
        document.querySelectorAll('.view-section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(view + 'Section').classList.add('active');
        document.getElementById('btn-' + view).classList.add('active');
        document.getElementById('scrollTarget').scrollTop = 0;
    }
    function globalSearch() {
        const rawInput = document.getElementById('searchInput').value.toLowerCase().trim();
        const nodes = document.querySelectorAll('.node');
        const labels = document.querySelectorAll('.label');
        const cards = document.querySelectorAll('.card');
        const clearBtn = document.getElementById('clearSearch');
        clearBtn.classList.toggle('active', rawInput !== "");
        if (!rawInput) {
            nodes.forEach(n => { n.classList.remove('hidden', 'expanded'); n.querySelector('.label').classList.remove('highlight'); });
            cards.forEach(c => c.classList.remove('hidden'));
            return;
        }
        let searchPool = [rawInput];
        for (let key in ALIAS_MAP) {
            if (ALIAS_MAP[key].some(a => a.includes(rawInput)) || key.includes(rawInput)) searchPool.push(key.toLowerCase());
        }
        let treeMatchCount = 0;
        nodes.forEach(n => n.classList.add('hidden'));
        labels.forEach(l => {
            const text = l.innerText.toLowerCase();
            const isHit = searchPool.some(k => text.includes(k));
            if (isHit) {
                treeMatchCount++;
                l.classList.add('highlight');
                let currNode = l.parentElement; 
                while (currNode && currNode.classList.contains('node')) {
                    currNode.classList.remove('hidden');
                    currNode.classList.add('expanded');
                    let parentContent = currNode.parentElement;
                    currNode = (parentContent && parentContent.classList.contains('children')) ? parentContent.parentElement : null;
                }
            } else { l.classList.remove('highlight'); }
        });
        cards.forEach(c => {
            const content = c.innerText.toLowerCase();
            const isHit = searchPool.some(k => content.includes(k));
            c.classList.toggle('hidden', !isHit);
        });
        if (treeMatchCount > 0 && !document.getElementById('treeSection').classList.contains('active')) switchView('tree');
    }
    function clearInput() { document.getElementById('searchInput').value = ""; globalSearch(); }
    function handleMasterToggle(expand) { document.querySelectorAll('.node').forEach(n => expand ? n.classList.add('expanded') : n.classList.remove('expanded')); }
    function draw(data, parent, level = 0) {
        data.forEach(item => {
            const node = document.createElement('div');
            node.className = `node level-${level} ${item.children ? '' : 'leaf'}`;
            const label = document.createElement('div');
            label.className = 'label';
            let html = `<span class="cn-text">${item.cn}</span>`;
            if (item.en) html += `<span class="en-text">(${item.en})</span>`;
            if (item.badge) html += `<span class="badge">${item.badge}</span>`;
            label.innerHTML = html;
            label.onclick = (e) => { e.stopPropagation(); node.classList.toggle('expanded'); };
            node.appendChild(label);
            if (item.options) {
                const optBox = document.createElement('div');
                optBox.className = 'options-box';
                item.options.forEach(opt => {
                    const d = document.createElement('div');
                    d.className = 'option-item';
                    d.innerText = opt;
                    optBox.appendChild(d);
                });
                node.appendChild(optBox);
            }
            if (item.children) {
                const childWrap = document.createElement('div');
                childWrap.className = 'children';
                draw(item.children, childWrap, level + 1);
                node.appendChild(childWrap);
            }
            parent.appendChild(node);
        });
    }
    draw(menuData, document.getElementById('menuTree'));
</script>
</body>
</html>
